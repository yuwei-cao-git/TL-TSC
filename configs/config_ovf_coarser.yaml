# config_ovf.yaml

# General
dataset: ovf_coarser
tile_size: 128
n_bands: 9
#ovf_coarser_class_weights: [0.02482688, 0.02986951, 0.51120736, 0.23517747, 0.15256409, 0.04635469]
ovf_coarser_class_weights: [0.02548991, 0.03066413, 0.49941828, 0.24404823, 0.15366716, 0.0467123]
ovf_2s_coarser_class_weights: [0.02548991, 0.03066413, 0.49941828, 0.24404823, 0.15366716, 0.0467123]
class_names: ['hardwood', 'poplar', 'spruce', 'fir', 'cedar', 'pine']
n_classes: 6
ovf_2s_coarser_season_map: ["img_s2_2020_summer", "img_s2_2020_fall"]
ovf_coarser_season_map: ["img_s2_2020_spring", "img_s2_2020_summer", "img_s2_2020_fall", "img_s2_2020_winter"]

ovf_coarser_img_mean: [0.02213441859462131, 0.0249776732983333, 0.02367478859328472, 0.030501271121244334, 0.04633530771896778, 0.05062321949775266, 0.034551559187663575, 0.025500956886395993, 0.05372880201825224]
ovf_coarser_img_std: [0.013001235936613913, 0.012274226049356364, 0.01273533207550198, 0.01237395656705834, 0.012679518136039392, 0.01351515920459563, 0.00920672357509653, 0.005540002537517937, 0.0133596841676312]

ovf_2s_coarser_img_mean: [0.018463210277109978, 0.021789409591106142, 0.020740193988877543, 0.028223331006243475, 0.04172258434287271, 0.045407770238856594, 0.037437581800666135, 0.027313930008092895, 0.04906509373322428]
ovf_2s_coarser_img_std: [0.006546887857521957, 0.00652792610475342, 0.0067127892095294765, 0.007240053253488117, 0.009286756117731039, 0.010032455311974466, 0.009409934184560091, 0.006139734765614415, 0.010153138516721338]

# Training parameters
task: tsc
head:  fuse_head # Options: no_pc_head, fuse_head, all_head, no_img_head
pretrained_ckpt: None #tl_logs/no_img_head_unet_pointnet_rmf_cosine/wandblogs/TL-TSC/28g98vp3/checkpoints/epoch=0-step=3246.ckpt
fix_backbone: false
batch_size: 64
max_epochs: 300
optimizer: adamW                 # Options: adam, adamW, sgd
scheduler: steplr         # Options: plateau, steplr, asha, cosine, cosinewarmup
lr: 0.0001
patience: 10
step_size: 10
momentum: 0.9
weight_decay: 0.0001
decision_fuse_type: weighted #weighted, mlp

# Loss weights
multitasks_uncertain_loss: false
loss_func: mae

# Model architecture
network: ResUnet
emb_dims: 768
num_points: 7168
fps: false
encoder: b                      # Options: s, b, l, xl
fusion_dim: 128
dp_fuse: 0.3
dp_pc: 0.3
use_ms: false
linear_layers_dims: [512, 256]

# Data transforms
image_transform: compose
point_cloud_transform: true
rotate: false
pc_normal: false

# Hardware
gpus: 4