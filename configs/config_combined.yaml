# config_ovf.yaml

# General
dataset: cps # rmf_csp, ovf_csp
tile_size: 128
n_bands: 9
csp_class_weights: [1.0,1.0,1.0,1.0]
ovf_csp_class_weights: [0.65510872 0.06113203 0.25741579 0.02634347]
class_names: ['BF', 'BW', 'CE', 'PO']
n_classes: 4
csp_img_mean: [9491.01056333417, 9489.552549402903, 9490.408949726243, 9490.723471126134, 9488.493782597463, 9490.443083831658, 9492.004719154362, 9488.746740700088, 9489.515367609505]
csp_img_std: [7405.349207988925, 7404.484106398802, 7407.781955434417, 7406.610475107854, 7403.12514493285, 7407.109965028357, 7406.25760073539, 7404.262459261873, 7404.805543920255]
rmf_csp_img_mean: [1135.8336254625378, 1137.1517124335753, 1138.956236262972, 1141.7423142197367, 1141.7693570375316, 1141.9586567620956, 1145.0684695211862, 1145.556909551234, 1143.8092535403277]
rmf_csp_img_std: [1028.8575962150362, 1029.63716028967, 1031.4678032140046, 1033.044768235378, 1033.50853624863, 1029.5616410963794, 1034.1437671164283, 1034.0719211691453, 1032.3346251553248]
ovf_csp_img_mean: [9864.513508068027, 9862.931732082314, 9863.744907578995, 9863.949315828357, 9861.618679714144, 9863.646842562168, 9865.14074210423, 9861.713560801853, 9862.59423559583]
ovf_csp_img_mean: [7347.323307163568, 7346.554986330304, 7350.067890623913, 7348.95459030749, 7345.402046898761, 7349.528070032377, 7348.683429173647, 7346.782953204912, 7347.233136034586]

# Training parameters
task: regression
head:  fuse_head # Options: no_pc_head, fuse_head, all_head, no_img_head
pretrained_ckpt: None #tl_logs/no_img_head_unet_pointnet_rmf_cosine/wandblogs/TL-TSC/28g98vp3/checkpoints/epoch=0-step=3246.ckpt
batch_size: 64
max_epochs: 100
optimizer: adamW                 # Options: adam, adamW, sgd
scheduler: cosine         # Options: plateau, steplr, asha, cosine, cosinewarmup
lr: 0.0001
patience: 10
step_size: 10
momentum: 0.9
weight_decay: 0.0001

# Loss weights
weighted_cls_loss: false
multitasks_uncertain_loss: true
loss_func: mae

# Model architecture
network: ResUnet
emb_dims: 768
num_points: 7168
encoder: b                      # Options: s, b, l, xl
fusion_dim: 128
dp_fuse: 0.7
dp_pc: 0.5
use_ms: false
linear_layers_dims: [512, 256]

# Data transforms
image_transform: compose
point_cloud_transform: true
rotate: false

# Hardware
gpus: 4