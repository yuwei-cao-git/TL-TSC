# config_ovf.yaml

# General
dataset: sp_ovf
tile_size: 128
n_bands: 9
ovf_class_weights: [0.121, 0.033, 0.045, 0.090, 0.012, 0.041, 0.020, 0.103, 0.334, 0.010, 0.191]
sp_ovf_class_weights: [0.130, 0.016, 0.168, 0.192, 0.130, 0.047, 0.08, 0.024, 0.161, 0.021, 0.033]
class_names: ['AB', 'PO', 'MR', 'BF', 'CE', 'PW', 'MH', 'BW', 'SW', 'OR', 'PR']
n_classes: 11
season_map: ["img_s2_2020_spring", "img_s2_2020_summer", "img_s2_2020_fall", "img_s2_2020_winter"]
sp_ovf_img_mean: [9671.19922799383, 9670.561954109888, 9670.606012551247, 9671.906523329215, 9671.478527041729, 9670.124516727825, 9670.82630475804, 9670.56352762565, 9670.997817976187]
sp_ovf_img_std: [7101.781204231806, 7100.631469525875, 7102.024528284454, 7101.20728452245, 7101.767493991581, 7101.525786379271, 7100.319537899588, 7100.622065039536, 7100.708617257364]

# Training parameters
task: regression
head:  fuse_head # Options: no_pc_head, fuse_head, all_head, no_img_head
pretrained_ckpt: None #tl_logs/no_img_head_unet_pointnet_rmf_cosine/wandblogs/TL-TSC/28g98vp3/checkpoints/epoch=0-step=3246.ckpt
batch_size: 64
max_epochs: 100
optimizer: adamW                 # Options: adam, adamW, sgd
scheduler: cosine         # Options: plateau, steplr, asha, cosine, cosinewarmup
lr: 0.0001
patience: 10
step_size: 10
momentum: 0.9
weight_decay: 0.0001

# Loss weights
weighted_cls_loss: false
multitasks_uncertain_loss: true
loss_func: mae

# Model architecture
network: ResUnet
emb_dims: 768
num_points: 7168
encoder: b                      # Options: s, b, l, xl
fusion_dim: 128
dp_fuse: 0.7
dp_pc: 0.5
use_ms: false
linear_layers_dims: [512, 256]

# Data transforms
image_transform: compose
point_cloud_transform: true
rotate: false

# Hardware
gpus: 4